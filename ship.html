<!DOCTYPE html>

<html>
<head>
  <title>Untitled</title>
  <meta charset="utf-8">
  <style type="text/css">
  .hide{display:none;}
  .hide.show{display: block;}</style>
<!-- создаем основы зависимых селектов-->
  <script>
  window.addEventListener('DOMContentLoaded', function() {
  var select = document.querySelector('#route');
  hide = document.querySelectorAll('.hide');
  function change()
{
    [].forEach.call(hide, function(el) {
           var add = el.classList.contains(select.value) ? "add" : "remove";
           el.classList[add]('show');
    });
  }
  select.addEventListener('change', change);
  change()
  });
  </script>
</head>

<body>
<label for="route">Выберите направление: </label>
<select id="route" name="route" class="main_field" aria-required="true">
    <option value="01_route" selected="selected">из A в B</option>
    <option value="02_route">из B в A</option>
    <option value="03_route">из A в B и обратно в А</option>
</select>
<br>
<br>
<div class="hide 01_route">
  <label for="time">Выберите время: </label>
  <select name="1_main" id="time">
    <option value="" id="0" selected="selected"> </optio>
    <option value="18.00" id="1" type="Date">18:00(из A в B)</option>
    <option value="18.30" id="2">18:30(из A в B)</option>
    <option value="18.45" id="3">18:45(из A в B)</option>
    <option value="19.00" id="4">19:00(из A в B)</option>
    <option value="19.15" id="5">19:15(из A в B)</option>
    <option value="21.00" id="6">21:00(из A в B)</option>
  </select>
  <select name="1_1_main" id="time_2" style="display: none">
    <option value="18.30" type="Date">18:30(из B в A)</option>
    <option value="18.45">18:45(из B в A)</option>
    <option value="19.00">19:00(из B в A)</option>
    <option value="19.15">19:15(из B в A)</option>
    <option value="19.35">19:35(из B в A)</option>
    <option value="21.50">21:50(из B в A)</option>
    <option value="21.55">21:55(из B в A)</option>
  </select>
 <!-- <script>
  function hide (elements) {
    elements = document.getElementById("time_2").length;
    el_s = elements ? elements : [elements];
    for (var index = 0; index < elements; index++) {
      elements[index].style.display = 'none';
    }
  }
  hide();
</script>-->
</div>
<div class="hide 02_route">
  <label for="time">Выберите время: </label>
  <select name="2_main" id="time">
    <option value="18.30">18:30(из B в A)</option>
    <option value="18.45">18:45(из B в A)</option>
    <option value="19.00">19:00(из B в A)</option>
    <option value="19.15">19:15(из B в A)</option>
    <option value="19.35">19:35(из B в A)</option>
    <option value="21.50">21:50(из B в A)</option>
    <option value="21.55">21:55(из B в A)</option>
  </select>
</div>
<div class="hide 03_route">
  <label for="time">Выберите время: </label>
  <select name="3_main" id="time">
    <option value="18.00">18:00(из A в B) - 19:00(из B в A)</option>
    <option value="18.30">18:30(из A в B) - 19:35(из B в A)</option>
    <option value="18.45">18:45(из A в B) - 21:50(из B в A)</option>
    <option value="19.00">19:00(из A в B) - 21:50(из B в A)</option>
    <option value="21.00">21:00(из A в B) - 21:50(из B в A)</option>
  </select>
</div>
<br>
<form><!--окно подсчета билетов-->
  <div id="ex1"></div>
  <label for="num">Количество билетов: </label>
  <input type="text" id="num" value="">
  <input type="button" id="addButton" value="Посчитать" onClick="handleButtonClick();">
      <script>
      var button = document.getElementById("addButton");
          button.onclick = handleButtonClick;
      function handleButtonClick(){
          var textInput = document.getElementById("num");
          var count = textInput.value*700;
          document.getElementById('ex1').innerHTML="<br>"+
        "Вы добавили билетов: " + textInput.value +
        " на сумму: "  + count + "рублей" + "<br/>";
      }   
  </script>
  </form>
  <br>
<form>
  <div id="ex2"></div>
  <label for="dur">Рассчитать время: </label>
  <input type="button" id="durButton" value="Рассчитать" onClick="handleClick();">
  <script>  
  var but = document.getElementById("durButton");
      but.onclick = handleClick;
    function handleClick(){
      var n = document.getElementById("time").options.selectedIndex;
      var start = document.getElementById("time").options[n].value;
      var b = document.getElementById("time_2").options.selectedIndex;
      var back = document.getElementById('time_2').options[b].value;
      var stop = (((parseFloat(back)) + 0.5)).toFixed(2);
      var trip = stop.toString().split('.')[1];
      document.getElementById('ex2').innerHTML="Теплоход отправляется в" + 
      " " + start + " " + ", поездка займет" + " " + trip + " " + "минут.";
    }
    
  </script>
</form>
</body>
</html>
